pico-8 cartridge // http://www.pico-8.com
version 18
__lua__

local starting_y

function _init()
  starting_y = 147
end

function _update()
  starting_y = starting_y + 1
  if starting_y >= 166 then
    starting_y = 127
  end
end

function _draw()
  cls()
  rect(0, 0, 127, 127, 3)
  local width, rise_left = calc_stair_size(starting_y)
  for y = starting_y, 15, -1 do
    if rise_left > 0 then
      rise_left = rise_left - 1
    else
      width = width - 1
    end
    local width_2, rise_left_2 = calc_stair_size(y)
    if width <= width_2 then
      width = width_2
      rise_left = rise_left_2
    end
    if rise_left > 0 then
      pset(64 - width / 2, y, 2)
      pset(64 + width / 2 - 0.5, y, 2)
      if rise_left == 1 then
        line(64 - width / 2, y, 64 + width / 2 - 0.5, y, 2)
      end
    else
      line(64 - width / 2, y, 64 + width / 2 - 0.5, y, 4)
    end
  end
end

function calc_stair_size(y)
  return flr((60 + 60 * y / 127) / 2) * 2, flr(6 + y / 10)
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
